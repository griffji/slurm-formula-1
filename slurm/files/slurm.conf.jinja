# Dynamic slurm.conf file generated by salt-minion(1)
# DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
{% from "slurm/map.jinja" import slurm with context %}
{% from "slurm/map.jinja" import nodes with context %}
{% from "slurm/map.jinja" import partitions with context %}

## MAIN CONFIG ##
{%- for key, value in slurm.iteritems() %}
{{ key }}={{ value -}}
{% endfor %}


## COMPUTE NODES & PARTITIONS ##
{%- for nodename, settings in nodes.iteritems() %}
NodeName={{ nodename }} {% for key, value in settings.iteritems() %}{{ key }}={{ value }} {% endfor -%}
{% endfor %}
{%- for partitionname, settings in partitions.iteritems() %}
PartitionName={{ partitionname }} {% for key, value in settings.iteritems() %}{{ key }}={{ value }} {% endfor -%}
{% endfor %}
