# Dynamic slurm.conf file generated by salt-minion(1)
# DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
{% from "slurm/map.jinja" import slurm with context %}
{% from "slurm/map.jinja" import nodes with context %}
{% from "slurm/map.jinja" import partitions with context %}

## MAIN CONFIG ##
{%- for key, value in slurm.iteritems() %}
{{ key }}={{ value -}}
{% endfor %}


## NODE DEFINITIONS ##
{%- for nodename, settings in nodes.iteritems() %}
NodeName={{ nodename }} {% for key, value in settings.iteritems() %}{{ key }}={{ value }} {% endfor -%}
{%- endfor %}
## PARTITION DEFINITIONS ##
{%- for partition in partitions %}
{%- for partname, settings in partition.iteritems() %}
PartitionName={{ partname }} {% for key, value in settings.iteritems() %} {{ key }}={{ value }} {% endfor -%}
{% endfor -%}
{% endfor -%}
